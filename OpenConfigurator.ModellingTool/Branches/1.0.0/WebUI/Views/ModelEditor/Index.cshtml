@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section headerscripts{
    <script type="text/javascript" src="../../Scripts/Application/ModelEditor.js"></script>
    <script type="text/javascript">
        //General functions~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        var controller = null;
        function calcWidth() {

            //Variables
            var totalWidth = $("#bodyArea").width();
            var sidePanelWidth = $("#sidePanel").width();
            var propertiesBoxWidth = $("#propertiesBox").width();

            //Set width for mainPanel and modelDiagramBox
            var mainPanelWidth = totalWidth - sidePanelWidth;
            $("#mainPanel").css("width", mainPanelWidth - 21 + "px");
            var diagramBoxWidth = mainPanelWidth - propertiesBoxWidth - 80;
            $("#modelDiagramBox").css("width", diagramBoxWidth + "px");
            $("#toolBar").css("width", diagramBoxWidth + "px");
        }
        //~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        //Load~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        $(document).ready(function () {

            // Setup page layout and simple controls
            $("#topMenu").simpleMenu();
            calcWidth(); calcWidth();
            $(window).resize(function () {
                calcWidth();
            });
            $("#toolBar").find(".toolBar-item").tipTip();

            // Initialize components and load data
            $.timer(300, function () {
                controller = new Controller();
                controller.Initialize();
                controller.NewModel();
            });
        });
        //~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    </script>
}
<div id="sidePanel">
    <div class="treeArea">
        <div id="modelExplorerTree">
        </div>
    </div>
</div>
<div id="mainPanel">
    <div id="toolBar">
        <div id="leftItemsArea">
            <div class="toolBar-item" id="newModelItem" title="New model">
                <img src="../../Content/Images/Icons/toolbar/new-document.png" />
            </div>
            <div class="toolBar-item" id="openModelItem" title="Open existing model">
                <img src="../../Content/Images/Icons/toolbar/open.png" />
            </div>
            <div class="toolBar-item" id="saveModelItem" title="Save changes">
                <img src="../../Content/Images/Icons/toolbar/save.png" />
            </div>
            <div class="toolBar-item" id="newFeatureItem" title="Add a new Feature">
                <img src="../../Content/Images/Icons/toolbar/feature.png" />
            </div>
            <div class="toolBar-item" id="newRelationItem" title="Add a new Relation">
                <img src="../../Content/Images/Icons/toolbar/relation.png" />
            </div>
            <div class="toolBar-item" id="newGroupRelationItem" title="Add a new Group relation">
                <img src="../../Content/Images/Icons/toolbar/grouprelation.png" />
            </div>
            <div class="toolBar-item" id="newCompositionRuleItem" title="Add a new Composition rule">
                <img src="../../Content/Images/Icons/toolbar/compositionrule.png" />
            </div>
            <div class="toolBar-item" id="newCustomRuleItem" title="Add a new Custom rule">
                <img src="../../Content/Images/Icons/toolbar/customrule.png" />
            </div>
            <div class="toolBar-item" id="newCustomFunctionItem" title="Add a new Custom function">
                <img src="../../Content/Images/Icons/toolbar/customfunction.png" />
            </div>
        </div>
        <div id="rightItemsArea">
            <div class="toolBar-item" id="toggleOrientationItem" title="Toggle orientation of diagram">
                <img src="../../Content/Images/Icons/toolbar/toggle-orientation.png" />
            </div>
            <div class="toolBar-item" id="zoomInItem" title="Zoom in">
                <img src="../../Content/Images/Icons/toolbar/zoom-in.png" />
            </div>
            <div class="toolBar-item" id="zoomOutItem" title="Zoom out">
                <img src="../../Content/Images/Icons/toolbar/zoom-out.png" />
            </div>
        </div>
    </div>
    <div id="modelDiagramBox" class="roundedBox">
        <div class="boxHeader">
            <span data-bind="text: Name" class="headerLabel">Model Diagram</span>
        </div>
        <div class="boxContent">
            <div id="SVGCanvasWrapper">
                <div id="SVGCanvas">
                </div>
            </div>
        </div>
        <div class="boxFooter">
        </div>
    </div>
    <div id="propertiesBox" class="roundedBox">
        <div class="boxHeader">
            <span class="headerLabel">Properties - <span id="SetTypeLabel"></span></span>
        </div>
        <div class="boxContent">
            <div id="mainContainer">
            </div>
        </div>
        <div class="boxFooter">
        </div>
    </div>
</div>
